$include "Libraries/Rogue/Plasmacore"
uses Plasmacore

println "** Rogue **"

class Cube [singleton]
  PROPERTIES
    rotation : Real64

  METHODS
    method update
      rotation += 0.01
endClass

MessageListener["Cube.state"] =
  function( m:Message )
    Cube.update
    local reply = m.reply
    reply.write_real32( 1 )
    reply.write_real32( 0 )
    reply.write_real32( 0 )
    reply.write_real32( Cube.rotation )
    reply.send
  endFunction

